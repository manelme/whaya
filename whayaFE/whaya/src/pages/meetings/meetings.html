<!--
  Generated template for the MeetingsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Meetings</ion-title>
    <ion-buttons end>
        <button ion-button>
          {{value}}m
        </button>
      </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <ion-fab bottom right>
    <button ion-fab mini color="danger">
        <ion-icon name="map"></ion-icon>
    </button>
    <ion-fab-list side="left">
        <button ion-fab>
            <ion-range item-end [(ngModel)]="value" color="danger" min=0 max=10000 (ionBlur)="showClose()" debounce=1000></ion-range>
        </button>
    </ion-fab-list>

  </ion-fab>
        <ion-segment color="primary" [(ngModel)]="options">
            <ion-segment-button value="mine">
                My Meetings
              </ion-segment-button>
              <ion-segment-button value="myfriends">
                Other Meetings
              </ion-segment-button>
        </ion-segment>
        <div [ngSwitch]="options">
            <ion-list *ngSwitchCase="'mine'">
                      <ion-card *ngFor="let meeting of myMeetings.future; let i = index">
                          
                          <ion-item>
                              <ion-avatar item-start>
                                <img src="./assets/imgs/place-marker.png">
                              </ion-avatar>
                              <h2>{{meeting.name}}</h2>
                              <p>{{meeting.address}}</p>
                              <ion-note>
                                  {{meeting.dateLocale}}
                              </ion-note>
                            </ion-item> 
                            <ion-card-content>
                            </ion-card-content>
                    <img src="{{meeting.image}}"/>
                    <ion-row>
                      <ion-col col-2 offset-10>
                        <button ion-button icon-right clear>
                            {{meeting.generalScore}}
                            <ion-icon name="star"></ion-icon>
                        </button>
                      </ion-col>
                    </ion-row>    
                    </ion-card>
                      <ion-card *ngFor="let meeting of myMeetings.past; let i = index">
                          <ion-item>
                              <ion-avatar item-start>
                                <img src="./assets/imgs/place-marker.png">
                              </ion-avatar>
                              <h2>{{meeting.name}} - <i ion-text color="danger"> past due</i></h2>
                              <p>{{meeting.address}}</p>
                              <ion-note>
                                  {{meeting.dateLocale}}
                              </ion-note>
                            </ion-item> 
                            <ion-card-content>
                            </ion-card-content>
                    <img src="{{meeting.image}}"/>
                    <ion-row>
                      <ion-col col-2 offset-10>
                        <button ion-button icon-right clear>
                            {{meeting.generalScore}}
                            <ion-icon name="star"></ion-icon>
                        </button>
                      </ion-col>
                    </ion-row>    
                    </ion-card>  
            </ion-list>
            <ion-list *ngSwitchCase="'myfriends'">
              <ion-card *ngFor="let meeting of friendsMeetings; let i = index">
                  <ion-item>
                      <ion-avatar item-start>
                        <img src="./assets/imgs/place-marker.png">
                      </ion-avatar>
                      <h2>{{meeting.name}}</h2>
                      <p>{{meeting.address}}</p>
                      <ion-note>
                          {{meeting.dateLocale}}
                      </ion-note>
                    </ion-item> 
                    <ion-card-content>
                    </ion-card-content>
            <img src="{{meeting.image}}"/>
            <ion-row>
              <ion-col col-2 offset-8>
                <button ion-button icon-left clear (click)="willGo(meeting.id, false)">
                    <ion-icon name="thumbs-down" ></ion-icon>
                </button>
              </ion-col>
              <ion-col col-2>
                  <button ion-button icon-right clear (click)="willGo(meeting.id, true)">
                      <ion-icon name="thumbs-up"></ion-icon>
                  </button>
              </ion-col>
            </ion-row>    
            </ion-card>
            </ion-list>
        </div>         
    
</ion-content>
